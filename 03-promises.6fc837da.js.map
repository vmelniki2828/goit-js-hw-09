{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,mBAChCC,EAAUF,SAASC,cAAc,SA0DvC,SAASE,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACvBL,EACFI,EAAQ,C,SAACN,E,MAAUC,IAInBM,EAAO,C,SAACP,E,MAAUC,GAAO,G,CAhE/BN,EAAOa,iBAAiB,SAExB,SAAyBC,GACzBA,EAAIC,iBACJ,MAAMC,EAAW,IAAIC,SAASd,GAC9B,IAAIe,EAAQC,OAAOH,EAASI,IAAI,UAChC,MAAMC,EAAOF,OAAOH,EAASI,IAAI,SAC3BE,EAASH,OAAOH,EAASI,IAAI,WACnC,IAAIG,EAAW,EAGfC,YAAW,KAGTpB,EAAcmB,EAAUL,GACnBO,MAAK,EAACpB,SAAEA,EAAQC,MAAEA,MACjBoB,QAAQC,IAAI,uBAAqBtB,QAAiBC,OAClDR,EAAA8B,OAAOC,QAAQ,uBAAqBxB,QAAiBC,MAAU,IAEhEwB,OAAM,EAACzB,SAAEA,EAAQC,MAAEA,MAElBoB,QAAQC,IAAI,sBAAoBtB,QAAiBC,OACjDR,EAAA8B,OAAOG,QAAQ,sBAAoB1B,QAAiBC,MAAU,IAEhEY,GAASG,EAGb,IAAIW,EAAaC,aAAY,KAE3B,GAAIV,EAAWD,EAeb,OAbAC,GAAY,EAEZnB,EAAcmB,EAAUL,GACvBO,MAAK,EAACpB,SAAEA,EAAQC,MAAEA,MACjBoB,QAAQC,IAAI,uBAAqBtB,QAAiBC,OAClDR,EAAA8B,OAAOC,QAAQ,uBAAqBxB,QAAiBC,MAAU,IAEhEwB,OAAM,EAACzB,SAAEA,EAAQC,MAAEA,MAElBoB,QAAQC,IAAI,sBAAoBtB,QAAiBC,OACjDR,EAAA8B,OAAOG,QAAQ,sBAAoB1B,QAAeC,MAAU,SAE9DY,GAASG,GAGXa,cAAcF,EAAW,GAEzBX,EAAK,GAGPH,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst btnRef = document.querySelector('.js-promise-btn');\nconst formRef = document.querySelector('.form');\n\nbtnRef.addEventListener('click', onCreatePromise);\n\nfunction onCreatePromise(evt) {\nevt.preventDefault();\nconst formData = new FormData(formRef);\nlet delay = Number(formData.get(\"delay\"));\nconst step = Number(formData.get(\"step\"));\nconst amount = Number(formData.get(\"amount\"));\nlet position = 1;\n\n\nsetTimeout(()=>{\n\n\n  createPromise(position, delay) //First promise\n      .then(({ position, delay }) => {\n        console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n  \n        console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      })\n      delay += step;\n\n\n  let intervalId = setInterval(()=>{\n\n    if (position < amount)\n    {\n      position += 1;\n      \n      createPromise(position, delay)\n      .then(({ position, delay }) => {\n        console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n  \n        console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      })\n      delay += step;\n      return;\n    }\n    clearInterval(intervalId);\n  \n  },step)\n}\n\n, delay)\n\n\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject)=> {\n    if (shouldResolve) {\n      resolve({position, delay});\n      // Fulfill\n      \n    } else {\n      reject({position, delay});\n      // Reject\n    }\n  })\n  \n}"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$btnRef","document","querySelector","$47d4ff9957288465$var$formRef","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","addEventListener","evt","preventDefault","formData","FormData","delay1","Number","get","step","amount","position1","setTimeout","then","console","log","Notify","success","catch","failure","intervalId","setInterval","clearInterval"],"version":3,"file":"03-promises.6fc837da.js.map"}